services:
  ci:
    build: .
    volumes:
      - .:/app
    command: >
      sh -c "pip install -e '.[dev]' &&
             echo 'Running ruff...' && ruff check . &&
             echo 'Running mypy...' && mypy . &&
             echo 'Running pytest...' && pytest -q"
  tests:
    build: .
    volumes:
      - .:/app
    command: >
      sh -c "pip install -e '.[dev]' &&
             echo 'Running pytest...' && pytest -q"
